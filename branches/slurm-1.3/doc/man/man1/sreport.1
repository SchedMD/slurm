.TH SREPORT "1" "October 2008" "sreport 1.3" "Slurm components"

.SH "NAME"
sreport \- Used to generate reports from the slurm accounting data.

.SH "SYNOPSIS"
\fBssreport\fR [\fIOPTIONS\fR...] [\fICOMMAND\fR...]

.SH "DESCRIPTION"
\fBssreport\fR is used to generate certain reports.  More can be added
at any time.  It provides a view into accounting data gathered from slurm via
the account information maintained within a database with the interface 
being provided by the \fBslurmdbd\fR (Slurm Database daemon).

.SH "OPTIONS"

.TP
\fB\-a\fR, \fB\-\-all_clusters\fR
Use all clusters instead of only cluster from where the command was run.

.TP
\fB\-h\fR, \fB\-\-help\fR
Print a help message describing the usage of \fBssreport\fR.
This is equivalent to the \fBhelp\fR command.

.TP
\fB\-n\fR, \fB\-\-no_header\fR
Don't display header when listing results.

.TP
\fB\-p\fR, \fB\-\-parsable\fR
Output will be '|' delimited with a '|' at the end.

.TP
\fB\-P\fR, \fB\-\-parsable2\fR
Output will be '|' delimited without a '|' at the end.

.TP
\fB\-q\fR, \fB\-\-quiet\fR
Print no warning or informational messages, only error messages.
This is equivalent to the \fBquiet\fR command.

.TP
\fB\-t <format>\fR
Specify the output time format. 
Time format options are case insensitive and may be abbreviated.
The default format is Minutes.
Supported time format options are listed with the \fBtime\fP command below.

.TP
\fB\-v\fR, \fB\-\-verbose\fR
Print detailed event logging. 
This is equivalent to the \fBverbose\fR command.

.TP
\fB\-V\fR , \fB\-\-version\fR
Print version information and exit.
This is equivalent to the \fBversion\fR command.

.SH "COMMANDS"

.TP
\fBexit\fP
Terminate the execution of sreport.
Identical to the \fBquit\fR command.

.TP
\fBhelp\fP
Display a description of sreport options and commands.

.TP
\fBquiet\fP
Print no warning or informational messages, only fatal error messages.

.TP
\fBquit\fP
Terminate the execution of sreport.
Identical to the \fBexit\fR command.

.TP
\fBtime <time_format>\fP
Specify the output time format. 
Time format options are case insensitive and may be abbreviated.
The default format is Minutes.
Supported time format options include:
.RS
.TP 10
\fBSecPer\fR
Seconds/Percentage of Total
.TP
\fBMinPer\fR
Minutes/Percentage of Total
.TP
\fBHourPer\fR
Hours/Percentage of Total
.TP
\fBSeconds\fR
Seconds
.TP
\fBMinutes\fR
Minutes
.TP
\fBHours\fR
Hours
.TP
\fBPercent\fR
Percentage of Total
.RE

.TP
\fBverbose\fP
Print detailed event logging. 
This includes time\-stamps on data structures, record counts, etc.
This is an independent command with no options meant for use in interactive mode.

.TP
\fBversion\fP
Display the version number of sreport being executed.
     -q or --quiet: equivalent to \"quiet\" command                        \n\

.TP
\fB!!\fP
Repeat the last command executed.

.SH "REPORT TYPES"
.TP
\fBcluster\fP, \fBjob\fP, and \fBuser\fP

.TP
Various reports are as follows...
     cluster - AccountUtilizationByUser, UserUtilizationByAccount, Utilization
     job     - Sizes
     user    - TopUsage

.TP

.TP
REPORT DESCRIPTION
.RS
.TP
.B cluster AccountUtilizationByUser 
This report will display account utilization as it appears on the
hierarchical tree.  Starting with the specified account or the
root account by default this report will list the underlying
usage with a sum on each level.  Use the 'tree' option to span
the tree for better visibility.
.TP 
.B cluster UserUtilizationByAccount
This report will display users by account in order of utilization without
grouping multiple accounts by user into one, but displaying them
on separate lines.
.TP
.B cluster Utilization
This report will display total usage divided by Allocated, Down,
Idle, and resrved time for selected clusters.  Reserved time
refers to time that a job was waiting for resources after the job
had become eligible.  If the value is not of importance for you
the number should be grouped with idle time.

.TP
.B job Sizes
This report will dispay the amount of time used for job ranges
specified by the 'grouping=' option.  Only a single level in the tree
is displayed defaulting to the root dir.  If you specify other
accounts with the 'account=' option you will receive those accounts
sub accounts.

.TP
.B user TopUsage
Displays the top users on a cluster.  Use the group option to group
accounts together.  The default is to have a different line for each
user account combination.  

.TP
Each report type has various options...

.TP
COMMON FOR ALL TYPES
.RS
.TP
.B All_Clusters
Use all monitored clusters default is local cluster.
.TP
.B End=<OPT>
Period ending for report. Default is 23:59:59 of previous day.
.TP
.B Format=<OPT>
Comma separated list of fields to display in report.
.TP
.B Start=<OPT>
Period start for report.  Default is 00:00:00 of previous day.
.RE

.TP
CLUSTER
.RS
.TP
.B Names=<OPT>
List of clusters to include in report.  Default is local cluster.
.TP
.B Tree
When used with the AccountUtilizationByUser report will span the
accounts as they in the hierarchy.
.RE

.TP
JOB    
.RS
.TP
.B Accounts=<OPT>
List of accounts to use for the report Default is all.
.TP
.B Clusters=<OPT>
List of clusters to include in report.  Default is local cluster.
.TP
.B GID=<OPT>
List of group ids to include in report.  Default is all.
.TP
.B Grouping=<OPT>
Comma separated list of size groupings.   (i.e. 50,100,150 would group job cpu count 1-49, 50-99, 100-149, > 150).
.TP
.B Jobs=<OPT>
List of jobs/steps to include in report.  Default is all.
.TP
.B Partitions=<OPT>
List of partitions jobs ran on to include in report.  Default is all.
.TP
.B PrintJobCount
When used with the Sizes report will print number of jobs ran instead
of time used.  
.TP
.B Users=<OPT>
List of users jobs to include in report.  Default is all.
.RE

.TP
USER
.RS
.TP
.B Clusters=<OPT>
List of clusters to include in report. Default is local cluster.
.TP
.B Group
Group all accounts together for each user.  Default is a separate entry for each user and account reference.
.TP
.B Users=<OPT>
List of users jobs to include in report.  Default is all.
.RE


.SH "EXAMPLES"
.eo
.br
> sreport job sizes 
.br
> sreport cluster utilization 
.br
> sreport user top 
.ec

.SH "COPYING"
Copyright (C) 2008 Lawrence Livermore National Security.
Produced at Lawrence Livermore National Laboratory (cf, DISCLAIMER).
LLNL\-CODE\-402394.
.LP
This file is part of SLURM, a resource management program.
For details, see <https://computing.llnl.gov/linux/slurm/>.
.LP
SLURM is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.
.LP
SLURM is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
details.

.SH "SEE ALSO"
\fBsacct\fR(1), \fBslurmdbe\fR(8)
