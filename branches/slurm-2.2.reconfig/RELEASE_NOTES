RELEASE NOTES FOR SLURM VERSION 2.2
05 January 2010 (through SLURM 2.1.0)


IMPORTANT NOTE:
SLURM state files in version 2.2 are different from those of version 2.1.
After installing SLURM version 2.2, plan to restart without preserving
jobs or other state information. While SLURM version 2.1 is still running,
cancel all pending and running jobs (e.g.
"scancel --state=pending; scancel --state=running"). Then stop and restart
daemons with the "-c" option or use "/etc/init.d/slurm startclean".

If using the slurmdbd (SLURM DataBase Daemon) you must update this first.
The 2.2 slurmdbd will work with SLURM daemons at version 1.3.0 and above.
You will not need to update all clusters at the same time, but it is very
important to update slurmdbd first and having it running before updating
any other clusters making use of it.  No real harm will come from updating
your systems before the slurmdbd, but they will not talk to each other
until you do.

There are substantial changes in the slurm.conf configuration file. It
is recommended that you rebuild your configuration file using the tool
doc/html/configurator.html that comes with the distribution.


HIGHLIGHTS
* Preserve current partition state information and node Feature state 
  information rather than use contents of slurm.conf file after slurmctld is
  restarted with the -R option or receives a SIGHUP signal. Previously the  
  state was always replaced by the contents of the slurm.conf file. In order 
  to restore partition state and node Features state information from the 
  slurm.conf file, restart slurmctld *without* the -R option or execute 
  "scontrol reconfig".

CONFIGURATION FILE CHANGES (see "man slurm.conf" for details)


COMMAND CHANGES (see man pages for details)


BLUEGENE SPECIFIC CHANGES
* scontrol show blocks option added.
* scontrol delete block and update block can now remove blocks on dynamic
  layout configuration.
* sinfo and sview now display correct CPU counts for partitions.
* Jobs waiting for a block to boot will now be reported in Configuring state.
* Vastly improve dynamic layout mode algorithm.
* Environment variables such as SLURM_NNODES, SLURM_JOB_NUM_NODES and
  SLURM_JOB_CPUS_PER_NODE now reference cnode counts instead of midplane
  counts.  SLURM_NODELIST still references midplane names.


API CHANGES
* Changed members of the following structs:
job_info_t
	num_procs -> num_cpus
	job_min_cpus -> pn_min_cpus
	job_min_memory -> pn_min_memory
	job_min_tmp_disk -> pn_min_tmp_disk

job_desc_msg_t
	num_procs -> min_cpus
	job_min_cpus -> pn_min_cpus
	job_min_memory -> pn_min_memory
	job_min_tmp_disk -> pn_min_tmp_disk

* Added the following struct definitions:
job_desc_msg_t
	max_cpus

* Changed the following enums

* Added the following API's

* Changed the following API's


OTHER CHANGES
