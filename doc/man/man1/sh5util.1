.TH "sh5util" "1" "SLURM 2.6" "March 2013" "SLURM Commands"
.SH "NAME"
.LP
sh5util \- Tool for merging HDF5 files from the acct_gather_profile
plugin that gathers detailed data for jobs running under SLURM

.SH "SYNOPSIS"
.LP
sh5util

.SH "DESCRIPTION"
.LP
sh5util merges HDF5 files produced on each node for each step of a job into
one HDF5 file for the job. The resulting file can be viewed and manipulated
by common HDF5 tools such as HDF5View, h5dump, h5edit, or h5ls.
.LP
sh5util also has an extract mode that writes a limited set of
data for specific nodes, steps, and data series in
"comma separated value" form to a file which can be imported into other
analysis tools such as spreadsheets.

.SH "OPTIONS"
.LP

.TP
\fB\-E\fR, \fB\-\-extract\fR

Instead of merging node-step files into a job file (default operation)
extract data series from a job file.

.RS
.TP 10
Extract mode options (all imply --extract)

.TP
\fB\-i\fR, \fB\-\-input\fR=\fIpath\fR
merged file to extract from (default --profiledir/$user/extract_$jobid.h5)

.TP
\fB\-N\fR, \fB\-\-node\fR=\fInodename\fR
Node name to extract (default is all)

.TP
\fB\-l\fR, \fB\-\-level\fR=\fI[Node:Totals|Node:TimeSeries]\fR
Level to which series is attached. (default Node:Totals)

.TP
\fB\-s\fR, \fB\-\-series\fR=\fI[Name|Tasks]\fR
Name=Specific Name, Tasks=all tasks, (default is everything)
.RE

.TP
\fB\-j\fR, \fB\-\-jobs\fR=\fI<job(.step)>\fR
Format is <job(.step)>. Merge this job/step.
(or a comma-separated list of job steps.) This option is required.
Not specifying a step will result in all steps found to be processed.

.TP
\fB\-h\fR, \fB\-\-help\fR
Print this description of use.
.TP
\fB\-o\fR, \fB\-\-output\fR=\fIpath\fR
Path to a file into which to write.  This is required for --extract,
default for merge is --profiledir/$user/job_$jobid.h5)
.TP
\fB\-p\fR, \fB\-\-profiledir\fR=\fIdir\fR
Directory location where node-step files exist default is set in
acct_gather.conf.

.TP
\fB\-S\fR, \fB\-\-savefiles\fR
Instead of removing node-step files after merging them into the job file,
keep them around.

.TP
\fB\-\-user\fR=\fIuser\fR
User who profiled job.
(Handy for root user, defaults to user running this command.)

.TP
\fB\-\-usage\fR
Display brief usage message.

.SH "COPYING"
SLURM is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.
.LP
SLURM is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
details.

.SH "SEE ALSO"
.LP
